<html>
<head>
  <title>f00087.html</title>
  <link rel="stylesheet" type="text/css" href="themes/blue/style.css"/>
  <link rel="stylesheet" type="text/css" href="jquery.treeTable.css"/>
  <link rel="stylesheet" type="text/css" href="jquery.ui.css"/>
  <link rel="stylesheet" type="text/css" href="style.css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="jquery.cookie.js"></script>
  <script type="text/javascript" src="jquery.hotkeys.js"></script>
  <script type="text/javascript" src="jquery.jstree.js"></script>
  <script type="text/javascript" src="jquery.tablesorter.js"></script>
  <script type="text/javascript" src="jquery.tablednd.js"></script>
  <script type="text/javascript" src="jquery.treeTable.js"></script>
  <script type="text/javascript" src="jquery.flot.js"></script>
  <script type="text/javascript" src="jquery.flot.navigate.js"></script>
  <script type="text/javascript" src="jquery.flot.selection.js"></script>
  <script type="text/javascript" src="jquery.ui.js"></script>
  <script type="text/javascript" src="colResizable-1.3.source.js"></script>
  <script type="text/javascript" src="/self$wsjs"></script>
  <script type="text/javascript" src="main.js"></script>
</head>
<body>
<a name="ch0"></a><div class="btn-pop-out"><a href="f00087.html#ch0" target="_blank"><img src="ic_pop_out.png"/></a></div><h4>com.example.demo1/com.example.plokmju.testmutilecompile.MainActivity</h4>
<div class='view-hierarchy'>
<table border='0'><tr><td valign='top'>
<canvas id='canvas' style='cursor: crosshair' onClick='onCanvasClick(this,event)', width='288' height='512' />
<style type='text/css'>.tree span { cursor: pointer; }</style>
<script type='text/javascript'>
var outW=288;
var outH=512;
var scale=0.26666668;
var views = 
{
  'id' : 'null',
  'uid' : 93625844,
  'name' : 'com.android.internal.policy.PhoneWindow$DecorView',
  'flags0' : 'V.E.....',
  'flags1' : '...',
  'x' : 0,
  'y' : 0,
  'w' : 1080,
  'h' : 1920,
  'children' : [
  {
    'id' : 'null',
    'uid' : 190293344,
    'name' : 'android.widget.LinearLayout',
    'flags0' : 'V.E.....',
    'flags1' : '...',
    'x' : 0,
    'y' : 0,
    'w' : 1080,
    'h' : 1920,
    'children' : [
    {
      'id' : 'android:id/action_mode_bar_stub',
      'uid' : 16046617,
      'name' : 'android.view.ViewStub',
      'flags0' : 'G.E.....',
      'flags1' : '...',
      'x' : 0,
      'y' : 0,
      'w' : 0,
      'h' : 0,
      'children' : [
      ]
    },
    {
      'id' : 'null',
      'uid' : 185248478,
      'name' : 'android.widget.FrameLayout',
      'flags0' : 'V.E.....',
      'flags1' : '...',
      'x' : 0,
      'y' : 63,
      'w' : 1080,
      'h' : 1857,
      'children' : [
      {
        'id' : 'app:id/decor_content_parent',
        'uid' : 34772714,
        'name' : 'android.support.v7.widget.ActionBarOverlayLayout',
        'flags0' : 'V.E.....',
        'flags1' : '...',
        'x' : 0,
        'y' : 0,
        'w' : 1080,
        'h' : 1857,
        'children' : [
        {
          'id' : 'android:id/content',
          'uid' : 5816440,
          'name' : 'android.support.v7.widget.ContentFrameLayout',
          'flags0' : 'V.E.....',
          'flags1' : '...',
          'x' : 0,
          'y' : 147,
          'w' : 1080,
          'h' : 1710,
          'children' : [
          {
            'id' : 'app:id/activity_main',
            'uid' : 74878618,
            'name' : 'android.widget.LinearLayout',
            'flags0' : 'V.E.....',
            'flags1' : '...',
            'x' : 0,
            'y' : 0,
            'w' : 1080,
            'h' : 1710,
            'children' : [
            {
              'id' : 'null',
              'uid' : 185193419,
              'name' : 'android.support.v7.widget.AppCompatTextView',
              'flags0' : 'V.ED....',
              'flags1' : '...',
              'x' : 42,
              'y' : 42,
              'w' : 200,
              'h' : 51,
              'children' : [
              ]
            },
            {
              'id' : 'app:id/btn_click',
              'uid' : 196687784,
              'name' : 'android.support.v7.widget.AppCompatButton',
              'flags0' : 'VFED..C.',
              'flags1' : '...',
              'x' : 42,
              'y' : 93,
              'w' : 231,
              'h' : 126,
              'children' : [
              ]
            }
            ]
          }
          ]
        },
        {
          'id' : 'app:id/action_bar_container',
          'uid' : 87995217,
          'name' : 'android.support.v7.widget.ActionBarContainer',
          'flags0' : 'V.ED....',
          'flags1' : '...',
          'x' : 0,
          'y' : 0,
          'w' : 1080,
          'h' : 147,
          'children' : [
          {
            'id' : 'app:id/action_bar',
            'uid' : 133904310,
            'name' : 'android.support.v7.widget.Toolbar',
            'flags0' : 'V.E.....',
            'flags1' : '...',
            'x' : 0,
            'y' : 0,
            'w' : 1080,
            'h' : 147,
            'children' : [
            {
              'id' : 'null',
              'uid' : 203786126,
              'name' : 'android.support.v7.widget.AppCompatTextView',
              'flags0' : 'V.ED....',
              'flags1' : '...',
              'x' : 42,
              'y' : 38,
              'w' : 449,
              'h' : 71,
              'children' : [
              ]
            },
            {
              'id' : 'null',
              'uid' : 248563990,
              'name' : 'android.support.v7.widget.ActionMenuView',
              'flags0' : 'V.E.....',
              'flags1' : '...',
              'x' : 1080,
              'y' : 0,
              'w' : 0,
              'h' : 147,
              'children' : [
              ]
            }
            ]
          },
          {
            'id' : 'app:id/action_context_bar',
            'uid' : 128453971,
            'name' : 'android.support.v7.widget.ActionBarContextView',
            'flags0' : 'G.E.....',
            'flags1' : '...',
            'x' : 0,
            'y' : 0,
            'w' : 0,
            'h' : 0,
            'children' : [
            ]
          }
          ]
        }
        ]
      }
      ]
    }
    ]
  },
  {
    'id' : 'android:id/statusBarBackground',
    'uid' : 39071281,
    'name' : 'com.android.internal.policy.PhoneWindow$ImmersiveView',
    'flags0' : 'V.ED....',
    'flags1' : '...',
    'x' : 0,
    'y' : 0,
    'w' : 1080,
    'h' : 63,
    'children' : [
    ]
  }
  ]
};

var fontSize = 10 / scale;
var lastUid = null;

function renderView(g, uid, view, dx, dy) {
    var x = dx + view.x;
    var y = dy + view.y;
    var visible = ('V' == view.flags0.charAt(0) || view == views);
    var selected = uid == view.uid;
    if (view.selected) {
        if (view.selected == 2) {
            g.fillStyle = 'rgba(255, 0, 0, 0.3)';
            g.strokeStyle = 'rgba(255, 0, 0, 0.7)';
        } else {
            g.fillStyle = 'rgba(255, 0, 255, 0.05)';
            g.strokeStyle = 'rgba(255, 0, 255, 0.4)';
        }
    } else {
        if (visible) {
            g.fillStyle = 'rgba(0, 255, 0, 0.05)';
            g.strokeStyle = 'rgba(0, 255, 0, 0.4)';
        } else {
            return;
        }
    }
    g.fillRect(x, y, view.w, view.h);
    g.strokeRect(x, y, view.w, view.h);
    if (uid == view.uid) {
        g.fillStyle = 'rgba(255, 255, 255, 0.7)';
        g.font = '' + fontSize + 'px Arial';
        g.fillText(view.name, x, y + fontSize);
        if (view.id != null) {
            g.fillText(view.id, x, y + 2*fontSize);
        }
    }
    var cnt = view.children.length;
    for (var i = 0; i < cnt; i++) {
        var child = view.children[i];
        renderView(g, uid, child, x, y);
    }
}

function markSelected(uid, view) {
    view.selected = (uid == view.uid ? 2 : 0);
    var cnt = view.children.length;
    for (var i = 0; i < cnt; i++) {
        var child = view.children[i];
        if (markSelected(uid, child)) {
            view.selected = 1;
        }
    }
    return view.selected;
}

function renderViews(uid) {
    var c = document.getElementById('canvas');
    var g = c.getContext('2d');
    g.setTransform(1, 0, 0, 1, 0, 0);
    g.fillStyle = '#000000';
    g.fillRect(0, 0, outW, outH);
    g.scale(scale, scale);
    markSelected(uid, views);
    renderView(g, uid, views, -views.x, -views.y);
}

function showNode(uid) {
    var node = $('#n' + uid);
    while (node != undefined && node.size() != 0) {
        if (node.hasClass("tree")) break;
        if (node.hasClass("jstree-closed")) {
            $(".tree").jstree("open_node", node);
        }
        node = node.parent();
    }
}

function onClick(uid) {
    $('#n' + lastUid).css({ background: 'inherit', color: 'inherit' });
    $('#n' + uid).css({ background: '#4060ff', color: '#ffffff' });
    renderViews(uid);
    lastUid = uid;
}

function findUid(x, y, view) {
    if ('V' != view.flags0.charAt(0) && view != views) return 0; // Not visible
    var lx = x - view.x;
    var ly = y - view.y;
    if (lx < 0 || ly < 0 || lx >= view.w || ly >= view.h) return 0;
    var cnt = view.children.length;
    var ret = [];
    for (var i = 0; i < cnt; i++) {
        var child = view.children[i];
        var childRet = findUid(lx, ly, child);
        if (childRet != 0) {
            ret = ret.concat(childRet);
        }
    }
    if (ret.length == 0) {
        return [ view.uid ];
    } else {
        return ret;
    }
}

function onCanvasClick(canvas, event) {
    var br = canvas.getBoundingClientRect();
    var x = (event.clientX - br.left) / scale;
    var y = (event.clientY - br.top) / scale;
    var uid = findUid(x + views.x, y + views.y, views);
    if (uid.length == 0) {
        return; // Nothing clicked on
    }
    if (uid.length > 1) {
        // Several items, pick the next one
        var oldIdx = uid.indexOf(lastUid);
        if (oldIdx < 0 || oldIdx == uid.length - 1) {
            uid = uid[0];
        } else {
            uid = uid[oldIdx + 1];
        }
    }
    onClick(uid);
    showNode(uid);
}

renderViews(0);
</script>
</td><td valign='top'>
<div class='tree' style='overflow-y: auto; height: 512px'>
<span></span>
<ul><li>
<span id='n93625844' onClick='onClick(93625844)'>com.android.internal.policy.PhoneWindow$DecorView [V.E..... ...] (0,0-1080*1920)</span>
<ul>
<li>
<span id='n190293344' onClick='onClick(190293344)'>android.widget.LinearLayout [V.E..... ...] (0,0-1080*1920)</span>
<ul>
<li>
<span id='n16046617' onClick='onClick(16046617)'>android.view.ViewStub(android:id/action_mode_bar_stub) [G.E..... ...] (0,0-0*0)</span>
</li>
<li>
<span id='n185248478' onClick='onClick(185248478)'>android.widget.FrameLayout [V.E..... ...] (0,63-1080*1857)</span>
<ul>
<li>
<span id='n34772714' onClick='onClick(34772714)'>android.support.v7.widget.ActionBarOverlayLayout(app:id/decor_content_parent) [V.E..... ...] (0,0-1080*1857)</span>
<ul>
<li>
<span id='n5816440' onClick='onClick(5816440)'>android.support.v7.widget.ContentFrameLayout(android:id/content) [V.E..... ...] (0,147-1080*1710)</span>
<ul>
<li>
<span id='n74878618' onClick='onClick(74878618)'>android.widget.LinearLayout(app:id/activity_main) [V.E..... ...] (0,0-1080*1710)</span>
<ul>
<li>
<span id='n185193419' onClick='onClick(185193419)'>android.support.v7.widget.AppCompatTextView [V.ED.... ...] (42,42-200*51)</span>
</li>
<li>
<span id='n196687784' onClick='onClick(196687784)'>android.support.v7.widget.AppCompatButton(app:id/btn_click) [VFED..C. ...] (42,93-231*126)</span>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span id='n87995217' onClick='onClick(87995217)'>android.support.v7.widget.ActionBarContainer(app:id/action_bar_container) [V.ED.... ...] (0,0-1080*147)</span>
<ul>
<li>
<span id='n133904310' onClick='onClick(133904310)'>android.support.v7.widget.Toolbar(app:id/action_bar) [V.E..... ...] (0,0-1080*147)</span>
<ul>
<li>
<span id='n203786126' onClick='onClick(203786126)'>android.support.v7.widget.AppCompatTextView [V.ED.... ...] (42,38-449*71)</span>
</li>
<li>
<span id='n248563990' onClick='onClick(248563990)'>android.support.v7.widget.ActionMenuView [V.E..... ...] (1080,0-0*147)</span>
</li>
</ul>
</li>
<li>
<span id='n128453971' onClick='onClick(128453971)'>android.support.v7.widget.ActionBarContextView(app:id/action_context_bar) [G.E..... ...] (0,0-0*0)</span>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<span id='n39071281' onClick='onClick(39071281)'>com.android.internal.policy.PhoneWindow$ImmersiveView(android:id/statusBarBackground) [V.ED.... ...] (0,0-1080*63)</span>
</li>
</ul>
</li></ul>
</div>
</td></tr></table>
</div>
</body>
</html>
